{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/SHEEL/OneDrive/Desktop/Git and Github/MERN-Stack-Projects/gmail-clone/server/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4;import{useState}from'react';import{Dialog,styled,Typography,Box,InputBase,TextField,Button}from'@mui/material';import{Close,DeleteOutline}from'@mui/icons-material';import useApi from'../hooks/useApi';import{API_URLS}from'../services/api.urls';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const dialogStyle={height:'90%',width:'80%',maxWidth:'100%',maxHeight:'100%',boxShadow:'none',borderRadius:'10px 10px 0 0'};const Header=styled(Box)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    display: flex;\\n    justify-content: space-between;\\n    padding: 10px 15px;\\n    background: #f2f6fc;\\n    & > p {\\n        font-size: 14px;\\n        font-weight: 500;\\n    }\\n\"])));const RecipientWrapper=styled(Box)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    display: flex;\\n    flex-direction: column;\\n    padding: 0 15px;\\n    & > div {\\n        font-size: 14px;\\n        border-bottom: 1px solid #F5F5F5;\\n        margin-top: 10px;\\n    }\\n\"])));const Footer=styled(Box)(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    display: flex;\\n    justify-content: space-between;\\n    padding: 10px 15px;\\n    align-items: center;\\n\"])));const SendButton=styled(Button)(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n    background: #0B57D0;\\n    color: #fff;\\n    font-weight: 500;\\n    text-transform: none;\\n    border-radius: 18px;\\n    width: 100px;\\n\"])));const ComposeMail=_ref=>{let{open,setOpenDrawer}=_ref;const[data,setData]=useState({});const sentEmailService=useApi(API_URLS.saveSentEmails);const saveDraftService=useApi(API_URLS.saveDraftEmails);const config={Username:process.env.REACT_APP_USERNAME,Password:process.env.REACT_APP_PASSWORD,Host:'smtp.elasticemail.com',Port:2525};const onValueChange=e=>{setData({...data,[e.target.name]:e.target.value});};const sendEmail=async e=>{e.preventDefault();if(window.Email){window.Email.send({...config,To:data.to,From:\"myrealid2805@gmail.com\",Subject:data.subject,Body:data.body}).then(message=>alert(message));}const payload={to:data.to,from:\"myrealid2805@gmail.com\",subject:data.subject,body:data.body,date:new Date(),image:'',name:'Sheel the Coder',starred:false,type:'sent'};sentEmailService.call(payload);if(!sentEmailService.error){setOpenDrawer(false);setData({});}else{}};const closeComposeMail=e=>{e.preventDefault();const payload={to:data.to,from:\"myrealid2805@gmail.com\",subject:data.subject,body:data.body,date:new Date(),image:'',name:'Sheel the Coder',starred:false,type:'drafts'};saveDraftService.call(payload);if(!saveDraftService.error){setOpenDrawer(false);setData({});}else{}};return/*#__PURE__*/_jsxs(Dialog,{open:open,PaperProps:{sx:dialogStyle},children:[/*#__PURE__*/_jsxs(Header,{children:[/*#__PURE__*/_jsx(Typography,{children:\"New Message\"}),/*#__PURE__*/_jsx(Close,{fontSize:\"small\",onClick:e=>closeComposeMail(e)})]}),/*#__PURE__*/_jsxs(RecipientWrapper,{children:[/*#__PURE__*/_jsx(InputBase,{placeholder:\"Recipients\",name:\"to\",onChange:e=>onValueChange(e),value:data.to}),/*#__PURE__*/_jsx(InputBase,{placeholder:\"Subject\",name:\"subject\",onChange:e=>onValueChange(e),value:data.subject})]}),/*#__PURE__*/_jsx(TextField,{multiline:true,rows:20,sx:{'& .MuiOutlinedInput-notchedOutline':{border:'none'}},name:\"body\",onChange:e=>onValueChange(e),value:data.body}),/*#__PURE__*/_jsxs(Footer,{children:[/*#__PURE__*/_jsx(SendButton,{onClick:e=>sendEmail(e),children:\"Send\"}),/*#__PURE__*/_jsx(DeleteOutline,{onClick:()=>setOpenDrawer(false)})]})]});};export default ComposeMail;","map":{"version":3,"names":["useState","Dialog","styled","Typography","Box","InputBase","TextField","Button","Close","DeleteOutline","useApi","API_URLS","jsx","_jsx","jsxs","_jsxs","dialogStyle","height","width","maxWidth","maxHeight","boxShadow","borderRadius","Header","_templateObject","_taggedTemplateLiteral","RecipientWrapper","_templateObject2","Footer","_templateObject3","SendButton","_templateObject4","ComposeMail","_ref","open","setOpenDrawer","data","setData","sentEmailService","saveSentEmails","saveDraftService","saveDraftEmails","config","Username","process","env","REACT_APP_USERNAME","Password","REACT_APP_PASSWORD","Host","Port","onValueChange","e","target","name","value","sendEmail","preventDefault","window","Email","send","To","to","From","Subject","subject","Body","body","then","message","alert","payload","from","date","Date","image","starred","type","call","error","closeComposeMail","PaperProps","sx","children","fontSize","onClick","placeholder","onChange","multiline","rows","border"],"sources":["C:/Users/SHEEL/OneDrive/Desktop/Git and Github/MERN-Stack-Projects/gmail-clone/server/client/src/components/ComposeMail.jsx"],"sourcesContent":["import { useState } from 'react';\r\n\r\nimport { Dialog, styled, Typography, Box, InputBase, TextField, Button } from '@mui/material'; \r\nimport { Close, DeleteOutline } from '@mui/icons-material';\r\nimport useApi from '../hooks/useApi';\r\nimport { API_URLS } from '../services/api.urls';\r\n\r\nconst dialogStyle = {\r\n    height: '90%',\r\n    width: '80%',\r\n    maxWidth: '100%',\r\n    maxHeight: '100%',\r\n    boxShadow: 'none',\r\n    borderRadius: '10px 10px 0 0',\r\n}\r\n\r\nconst Header = styled(Box)`\r\n    display: flex;\r\n    justify-content: space-between;\r\n    padding: 10px 15px;\r\n    background: #f2f6fc;\r\n    & > p {\r\n        font-size: 14px;\r\n        font-weight: 500;\r\n    }\r\n`;\r\n\r\nconst RecipientWrapper = styled(Box)`\r\n    display: flex;\r\n    flex-direction: column;\r\n    padding: 0 15px;\r\n    & > div {\r\n        font-size: 14px;\r\n        border-bottom: 1px solid #F5F5F5;\r\n        margin-top: 10px;\r\n    }\r\n`;\r\n\r\nconst Footer = styled(Box)`\r\n    display: flex;\r\n    justify-content: space-between;\r\n    padding: 10px 15px;\r\n    align-items: center;\r\n`;\r\n\r\nconst SendButton = styled(Button)`\r\n    background: #0B57D0;\r\n    color: #fff;\r\n    font-weight: 500;\r\n    text-transform: none;\r\n    border-radius: 18px;\r\n    width: 100px;\r\n`\r\n\r\nconst ComposeMail = ({ open, setOpenDrawer }) => {\r\n    const [data, setData] = useState({});\r\n    const sentEmailService = useApi(API_URLS.saveSentEmails);\r\n    const saveDraftService = useApi(API_URLS.saveDraftEmails);\r\n\r\n    const config = {\r\n        Username: process.env.REACT_APP_USERNAME,\r\n        Password: process.env.REACT_APP_PASSWORD,\r\n        Host: 'smtp.elasticemail.com',\r\n        Port: 2525,\r\n    }\r\n\r\n    const onValueChange = (e) => {\r\n        setData({ ...data, [e.target.name]: e.target.value })\r\n    }\r\n\r\n    const sendEmail = async (e) => {\r\n        e.preventDefault();\r\n\r\n        if (window.Email) {\r\n            window.Email.send({\r\n                ...config,\r\n                To : data.to,\r\n                From : \"myrealid2805@gmail.com\",\r\n                Subject : data.subject,\r\n                Body : data.body\r\n            }).then(\r\n                message => alert(message)\r\n            );\r\n        }\r\n\r\n        const payload = {\r\n            to : data.to,\r\n            from : \"myrealid2805@gmail.com\",\r\n            subject : data.subject,\r\n            body : data.body,\r\n            date: new Date(),\r\n            image: '',\r\n            name: 'Sheel the Coder',\r\n            starred: false,\r\n            type: 'sent'\r\n        }\r\n\r\n        sentEmailService.call(payload);\r\n\r\n        if (!sentEmailService.error) {\r\n            setOpenDrawer(false);\r\n            setData({});\r\n        } else {\r\n\r\n        }\r\n    }\r\n\r\n    const closeComposeMail = (e) => {\r\n        e.preventDefault();\r\n\r\n        const payload = {\r\n            to : data.to,\r\n            from : \"myrealid2805@gmail.com\",\r\n            subject : data.subject,\r\n            body : data.body,\r\n            date: new Date(),\r\n            image: '',\r\n            name: 'Sheel the Coder',\r\n            starred: false,\r\n            type: 'drafts'\r\n        }\r\n\r\n        saveDraftService.call(payload);\r\n\r\n        if (!saveDraftService.error) {\r\n            setOpenDrawer(false);\r\n            setData({});\r\n        } else {\r\n\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Dialog\r\n            open={open}\r\n            PaperProps={{ sx: dialogStyle }}\r\n        >\r\n            <Header>\r\n                <Typography>New Message</Typography>\r\n                <Close fontSize=\"small\" onClick={(e) => closeComposeMail(e)} />\r\n            </Header>\r\n            <RecipientWrapper>\r\n                <InputBase placeholder='Recipients' name=\"to\" onChange={(e) => onValueChange(e)} value={data.to} />\r\n                <InputBase placeholder='Subject' name=\"subject\" onChange={(e) => onValueChange(e)} value={data.subject} />\r\n            </RecipientWrapper>\r\n            <TextField \r\n                multiline\r\n                rows={20}\r\n                sx={{ '& .MuiOutlinedInput-notchedOutline': { border: 'none' } }}\r\n                name=\"body\"\r\n                onChange={(e) => onValueChange(e)}\r\n                value={data.body}\r\n            />\r\n            <Footer>\r\n                <SendButton onClick={(e) => sendEmail(e)}>Send</SendButton>\r\n                <DeleteOutline onClick={() => setOpenDrawer(false)} />\r\n            </Footer>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nexport default ComposeMail;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}